# tModLoader インストーラー

tModLoader のインストール・更新を簡単に行えるデスクトップアプリケーションです。

## 概要

このアプリケーションは、tModLoader の手動インストール手順を自動化し、直感的な GUI で操作できるようにしたツールです。GitHub から最新版をダウンロードし、既存のインストールを安全に更新できます。

## 主な機能

- 🚀 **簡単インストール**: ワンクリックで tModLoader をインストール・更新
- 💾 **自動バックアップ**: 既存のインストールを自動でバックアップ
- 🔄 **復元機能**: バックアップから簡単に復元可能
- ⚙️ **カスタマイズ**: 任意のバージョンやインストール先を指定可能
- 📊 **進捗表示**: リアルタイムでインストール進捗を確認
- 📝 **ログ表示**: 詳細なログでインストール状況を確認

## ダウンロード・インストール

### 実行ファイル版（推奨）

1. [Releases](https://github.com/your-username/tmodloader-installer/releases) から最新版をダウンロード
2. 以下のいずれかをダウンロード：
   - **推奨**: `tModLoaderInstaller-vX.X.X.exe` （実行ファイルのみ、ウィルス誤検知回避）
   - `tModLoaderInstaller-vX.X.X-data.zip` （データディレクトリのみ）
   - `tModLoaderInstaller-vX.X.X-full.zip` （完全版、実行ファイル+データ）
3. 実行ファイルのみの場合：
   - `tModLoaderInstaller-vX.X.X.exe` をダウンロード
   - 初回実行時に必要なディレクトリが自動作成されます
4. 完全版の場合：
   - `tModLoaderInstaller-vX.X.X-full.zip` をダウンロードして展開
5. `tModLoaderInstaller.exe` をダブルクリックして実行
6. 管理者権限で実行してください

> **注意**:
>
> - 初回実行時は Windows Defender が警告を表示する場合があります。「詳細情報」→「実行」をクリックしてください。
> - ZIP ファイルがブラウザでウィルスと誤診断される場合は、実行ファイルのみ（`.exe`）をダウンロードしてください。

#### パッケージの内容

- `tModLoaderInstaller.exe`: メイン実行ファイル
- `downloads/`: ダウンロードファイル保存用ディレクトリ
- `backups/`: バックアップファイル保存用ディレクトリ
- `config/`: 設定ファイル保存用ディレクトリ

#### ダウンロード時のトラブルシューティング

**ZIP ファイルがウィルスと誤診断される場合**:

1. **推奨**: `tModLoaderInstaller-vX.X.X.exe` （実行ファイルのみ）をダウンロード
2. ブラウザの設定でダウンロード保護を一時的に無効化
3. 右クリック →「名前を付けてリンク先を保存」でダウンロード
4. コマンドラインでダウンロード: `curl -L -o installer.exe [URL]`

**Windows Defender が警告を表示する場合**:

1. 「詳細情報」→「実行」をクリック
2. Windows Defender の除外設定に実行ファイルを追加
3. 管理者権限で実行

**実行ファイルのみの場合の使用方法**:

1. `tModLoaderInstaller-vX.X.X.exe` をダウンロード
2. 任意のフォルダに配置
3. 初回実行時に `downloads/`, `backups/`, `config/` ディレクトリが自動作成されます

### ソースコード版

```bash
# リポジトリをクローン
git clone https://github.com/your-username/tmodloader-installer.git
cd tmodloader-installer

# 依存関係をインストール
uv sync

# アプリケーションを実行
uv run python -m tmodloader_installer
```

## 使用方法

### 基本的な使い方

1. **アプリケーションを起動**

   - `tModLoaderInstaller.exe` をダブルクリック
   - 管理者権限で実行

2. **設定を確認**

   - **GitHub URL**: ダウンロード元の URL（通常は変更不要）
   - **インストール先**: tModLoader のインストール先パス

3. **インストール実行**

   - 「インストール開始」ボタンをクリック
   - 進捗バーで進行状況を確認

4. **完了**
   - インストール完了のメッセージが表示されたら完了

### バックアップからの復元

1. **復元ボタンをクリック**

   - 「バックアップから復元」ボタンをクリック

2. **バックアップを選択**

   - 利用可能なバックアップの一覧から選択
   - 日時順に並んでいます（新しいものが上）

3. **復元実行**
   - 選択したバックアップから復元を実行

### ログの確認

- 「ログ表示」ボタンで詳細なログを確認できます
- エラーが発生した場合は、ログで原因を特定できます

## システム要件

- **OS**: Windows 10/11
- **権限**: 管理者権限
- **ネットワーク**: インターネット接続
- **ディスク容量**: 約 500MB 以上の空き容量

## 注意事項

⚠️ **重要な注意事項**

- 実行前に重要なデータ（プレイヤーデータ、ワールド、MOD）のバックアップを取得してください
- 管理者権限で実行してください
- インターネット接続が必要です
- 既存の tModLoader がインストールされている必要があります

## トラブルシューティング

### よくある問題

**Q: 「管理者権限が必要です」と表示される**
A: アプリケーションを右クリック → 「管理者として実行」を選択してください

**Q: インストール先が見つからない**
A: Steam 版の tModLoader がインストールされているか確認してください

**Q: ダウンロードに失敗する**
A: インターネット接続を確認し、ファイアウォールの設定を確認してください

**Q: バックアップが表示されない**
A: 過去にインストールを実行したことがあるか確認してください

### ログの確認方法

1. 「ログ表示」ボタンをクリック
2. エラーメッセージを確認
3. 必要に応じて開発者に報告

## サポート

- **Issues**: [GitHub Issues](https://github.com/your-username/tmodloader-installer/issues)
- **Discussions**: [GitHub Discussions](https://github.com/your-username/tmodloader-installer/discussions)

## ライセンス

MIT License

---

詳細な技術仕様については、[SPECIFICATION.md](SPECIFICATION.md) をご覧ください。
